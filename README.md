# EduCare - Plateforme de Lutte contre la Pr√©carit√© √âtudiante

## üìã Description du Projet

EduCare est une plateforme web d√©di√©e √† la lutte contre la pr√©carit√© √©tudiante. Elle met en relation les √©tudiants en difficult√© avec des organismes d'aide (associations, institutions publiques comme le CROUS, etc.). La plateforme permet aux petites associations de gagner en visibilit√© et d'atteindre efficacement leur public cible.

Ce repository contient la partie **backend** du projet, d√©velopp√©e avec le framework Symfony 6.3.
[Voir le front-end du projet](https://github.com/Slyannn/EduCare_frontend.git)

## üì¶ Installation & Configuration

### Pr√©requis
```bash
# Versions requises
PHP >= 8.1
Composer
Base de donn√©es (MySQL/PostgreSQL/SQLite)
```

### Installation
```bash
# Cloner le repository
git clone [url-du-repo]
cd afreesoft-backend

# Installer les d√©pendances
composer install

# Configuration environnement
cp .env .env.local
# √âditer .env.local avec vos param√®tres

# Base de donn√©es
php bin/console doctrine:database:create
php bin/console doctrine:migrations:migrate
php bin/console doctrine:fixtures:load

# D√©marrer le serveur
symfony server:start
```

### Variables d'Environnement
```env
# Base de donn√©es
DATABASE_URL="mysql://user:password@127.0.0.1:3306/educare"

# JWT Secret
JWT_SECRET="your-secret-key"

# Email (Mailer)
MAILER_DSN="smtp://localhost:1025"

# CORS
CORS_ALLOW_ORIGIN='^https?://(localhost|127\.0\.0\.1)(:[0-9]+)?$'
```

## üéØ Utilisation

### Workflow Typique

#### Pour un √âtudiant :
1. **Inscription** ‚Üí V√©rification email ‚Üí Connexion
2. **Profil** ‚Üí S√©lection des besoins (aide alimentaire, logement, etc.)
3. **Recherche** ‚Üí Visualisation des organismes correspondants
4. **Contact** ‚Üí Envoi de messages aux organismes int√©ressants
5. **√âvaluation** ‚Üí Avis apr√®s utilisation des services

#### Pour un Organisme :
1. **Inscription** ‚Üí Upload de certification ‚Üí Attente validation
2. **Validation admin** ‚Üí Activation du compte ‚Üí Notification email
3. **Profil** ‚Üí Configuration des services propos√©s
4. **R√©ception** ‚Üí Messages des √©tudiants int√©ress√©s
5. **Gestion** ‚Üí Mise √† jour des informations

#### Pour un Administrateur :
1. **Connexion** ‚Üí Interface d'administration
2. **Validation** ‚Üí Examen des demandes d'organismes
3. **Gestion** ‚Üí CRUD des besoins et services
4. **Monitoring** ‚Üí Suivi de l'activit√© plateforme


## üèóÔ∏è Architecture du Projet

### Entit√©s Principales

#### üë§ **User** - Syst√®me d'authentification unifi√©
- **R√¥les disponibles** : `ROLE_STUDENT`, `ROLE_ORGANISM`, `ROLE_ADMIN`
- **Authentification** : JWT (JSON Web Token)
- **V√©rification** : Syst√®me d'activation par email
- **Relations** : OneToOne avec Student et Organism

#### üéì **Student** - Profil √©tudiant
- **Informations** : Pr√©nom, nom, universit√©
- **Localisation** : Adresse compl√®te
- **Besoins** : Liste des services recherch√©s (Many-to-Many avec Need)
- **Avis** : Peut laisser des reviews sur les organismes
- **Fonctionnalit√©s** :
  - Inscription et profil personnalis√©
  - S√©lection de besoins sp√©cifiques
  - Recherche d'organismes par besoins
  - Syst√®me de messaging avec les organismes

#### üè¢ **OrganismAdmin** - Profil d'organisme
- **Informations** : Nom, description, email, t√©l√©phone, site web
- **Visuel** : Logo de l'organisation
- **Services** : Liste des besoins couverts (Many-to-Many avec Need)
- **Statut** : Validation par les administrateurs
- **Fonctionnalit√©s** :
  - Inscription avec certification (document PDF)
  - Gestion des services propos√©s
  - R√©ception des messages √©tudiants

#### üè• **Organism** - Profil de certification
- **Certification** : Document PDF requis pour validation
- **Statut** : Activ√©/D√©sactiv√© par les admins
- **Relations** : OneToOne avec OrganismAdmin et User

#### üìã **Need** - Cat√©gories de besoins
- **Services disponibles** : Aide alimentaire, logement, transport, etc.
- **Relations** : Many-to-Many avec Students et OrganismAdmins
- **Gestion** : CRUD via interface admin

#### ‚≠ê **Review** - Syst√®me d'√©valuation
- **Contenu** : Titre, note, commentaire
- **Relations** : √âtudiant (auteur) ‚Üí Organisme (cible)
- **Utilit√©** : Aide √† la s√©lection des organismes

#### üì¨ **Message** - Communication
- **Contenu** : Exp√©diteur, destinataire, sujet, message
- **Envoi automatique** : Email + copie √† l'exp√©diteur
- **Tra√ßabilit√©** : Stockage en base de donn√©es

#### üìç **Address** - G√©olocalisation
- **Informations** : Rue, ville, code postal, pays
- **Relations** : OneToMany avec Students et OrganismAdmins

#### üë®‚Äçüíº **Admin** - Administration de la plateforme
- **Gestion** : Validation des organismes, gestion des besoins
- **Acc√®s** : Interface d'administration s√©curis√©e

## üöÄ Fonctionnalit√©s Principales

### üîê **Authentification & S√©curit√©**

#### Inscription/Connexion
- **√âtudiants** : Inscription avec informations universitaires
- **Organismes** : Inscription avec certification obligatoire
- **JWT** : Tokens s√©curis√©s pour l'authentification API
- **Validation email** : Activation obligatoire des comptes

#### S√©curit√©
- **CORS** : Configuration pour les requ√™tes cross-origin
- **CSRF** : Protection contre les attaques CSRF
- **Hashage** : Mots de passe s√©curis√©s avec Symfony Password Hasher

### üì± **API REST Compl√®te**

#### Endpoints √âtudiants (`/api/student`)
```
POST /signup          - Inscription √©tudiant
PUT  /update/{id}     - Mise √† jour profil
GET  /all             - Liste des √©tudiants
POST /{id}/need       - Ajout d'un besoin
DELETE /{id}/need/{need} - Suppression d'un besoin
GET  /{id}/organisms  - Organismes correspondant aux besoins
```

#### Endpoints Organismes (`/api/organism`)
```
POST /signup          - Inscription organisme
PUT  /update/{id}     - Mise √† jour profil
GET  /all             - Liste des organismes
POST /sendMessage     - Envoi de message
```

#### Endpoints Authentification (`/api/auth`)
```
POST /login              - Connexion utilisateur
GET  /currentUser/{token} - Informations utilisateur connect√©
```

#### Endpoints Utilitaires
```
GET  /api/needs/         - Liste des besoins disponibles
POST /api/reviews/add    - Ajout d'un avis
GET  /api/reviews/       - Liste des avis
GET  /api/verif/{token}  - V√©rification email
POST /api/resend_verif/{email} - Renvoi email v√©rification
```

### üë®‚Äçüíº **Interface d'Administration**

#### Gestion des Organismes (`/admin/organism`)
- **Validation** : Approbation/rejet des candidatures
- **Statut** : Activation/d√©sactivation des comptes
- **Certificats** : T√©l√©chargement et v√©rification des documents
- **Notification** : Emails automatiques de validation

#### Gestion des Besoins (`/admin/need`)
- **CRUD complet** : Cr√©ation, lecture, mise √† jour, suppression
- **Cat√©gorisation** : Organisation des services disponibles

#### Tableau de Bord (`/admin/home`)
- **Vue d'ensemble** : Statistiques et monitoring
- **Acc√®s rapide** : Navigation vers les sections principales

### üìß **Syst√®me de Messaging**

#### Envoi d'Emails
- **Templates Twig** : Emails HTML personnalis√©s
- **Types d'emails** :
  - Confirmation d'inscription
  - Validation d'organisme
  - Contact entre utilisateurs
  - Copie des messages envoy√©s

#### Communication Inter-Utilisateurs
- **√âtudiant ‚Üí Organisme** : Contact direct via la plateforme
- **Copie automatique** : Confirmation d'envoi
- **Stockage** : Historique des messages en base

### üìÅ **Gestion de Fichiers**

#### Upload S√©curis√©
- **Logos** : Images des organismes (JPEG, PNG)
- **Certificats** : Documents PDF de validation
- **Stockage** : `/public/uploads/` organis√© par type
- **S√©curit√©** : Validation des types MIME

#### Service UploadFile
- **Noms uniques** : √âvite les conflits de fichiers
- **Slugification** : Noms de fichiers s√©curis√©s
- **Organisation** : Dossiers par cat√©gorie (logo/, certificate/)

### üîç **Recherche et Matching**

#### Algorithme de Correspondance
- **Besoins √©tudiants** : S√©lection de services recherch√©s
- **Services organismes** : D√©claration des aides propos√©es
- **Matching automatique** : Organismes pertinents selon les besoins
- **G√©olocalisation** : Prise en compte de l'adresse

#### Syst√®me d'Avis
- **Notation** : √âvaluation des organismes
- **Commentaires** : Retours d'exp√©rience d√©taill√©s
- **Aide √† la d√©cision** : Transparence pour les futurs utilisateurs

## üõ†Ô∏è Technologies Utilis√©es

### Framework & Version
- **Symfony 6.3** - Framework PHP moderne
- **PHP 8.1+** - Version minimale requise
- **Doctrine ORM** - Gestionnaire de base de donn√©es

### Bundles Symfony
- **Security Bundle** - Authentification et autorisation
- **Mailer Bundle** - Envoi d'emails
- **Twig Bundle** - Moteur de templates
- **Form Bundle** - Gestion des formulaires
- **Validator Bundle** - Validation des donn√©es
- **CORS Bundle** - Support des requ√™tes cross-origin

### Services Personnalis√©s
- **JwtService** - Gestion des tokens JWT
- **SendMailService** - Service d'envoi d'emails
- **UploadFile** - Gestion des uploads de fichiers

### Base de Donn√©es
- **Doctrine Migrations** - Versioning de la base
- **Fixtures** - Donn√©es de test (admin par d√©faut)

## üåü Points Forts du Syst√®me

### üîí **S√©curit√© Renforc√©e**
- Authentification JWT stateless
- Validation des uploads de fichiers
- Protection CSRF sur l'admin
- Hashage s√©curis√© des mots de passe

### ‚ö° **Performance & Scalabilit√©**
- API REST optimis√©e
- Serialisation contr√¥l√©e (√©vite les r√©f√©rences circulaires)
- CORS configur√© pour le d√©veloppement multi-domaines
- Structure modulaire pour l'extension

### üé® **Flexibilit√©**
- Syst√®me de r√¥les extensible
- Besoins configurables dynamiquement
- Templates d'emails personnalisables
- Architecture MVC respect√©e

### üìä **Tra√ßabilit√©**
- Logs des connexions
- Historique des messages
- Timestamping automatique
- Workflow de validation transparent

## üöÄ √âvolutions Futures Possibles

### Fonctionnalit√©s Avanc√©es
- **G√©olocalisation** : Recherche par proximit√© g√©ographique
- **Notifications** : Syst√®me de push notifications
- **Chat temps r√©el** : WebSocket pour messaging instantan√©
- **Mobile API** : Optimisations pour applications mobiles
- **Analytics** : Tableaux de bord statistiques avanc√©s

### Int√©grations
- **R√©seaux sociaux** : Connexion via OAuth
- **Services externes** : APIs gouvernementales
- **Paiements** : Syst√®me de donations
- **Cartographie** : Int√©gration Google Maps/OpenStreetMap

## üìÑ Licence

Ce projet est sous licence propri√©taire. Tous droits r√©serv√©s.

## üë• Contact & Support

Pour toute question concernant EduCare, veuillez contacter l'√©quipe de d√©veloppement.

---

*EduCare - Ensemble contre la pr√©carit√© √©tudiante* üéìüíô 
